<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
<script>
/*作者：严强福
*时间：2017／7/3
*实现代理模式,在对象执行之前
*尤其代理对象代为执行，实现深入的交互功能
*/
var Flower = function (type, price) {
  this.type = type;
  this.price = price
}
  Flower.prototype.buy = function (){
  console.log ("您购买了"+this.type+
  "请付"+this.price+"元");
}
  var flower =new Flower("rose",99);
  flower.buy ();
  var yqf = {
    name: "严强福",
    age: 20,
    city: "赣州",
    sendFlower: function (target) {
      target.receiveFlower ();
      }
  }
  var zy = {
    name:"zy",
    age:20,
    receiveFlower:function (){
      console.log("收到了花");
    },
    listenGoodMood:function (fn){
      console.log ("心情不好");
      setTimeout (function (){
        console.log("心情好了，该约的约");
        fn ();
      },5000)
    }
  }
  var xiaohong = {
    name:"小红",
    nickname:"送花使者",
    //接口
    receiveFlower:function (){
      zy.listenGoodMood(function (){
        zy.receiveFlower();
      });
    }
  }
  yqf.sendFlower(xiaohong);
</script>
</body>
</html>
